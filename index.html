<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>unit-4-game</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" 
    crossorigin="anonymous"></script>
</head>
<body>
    
    <div id=header>
        <h1>Crystals Collector!</h1>
    </div>
    
<!--This is instruction-->
    <div id=instructions>
        <p>You will be given a random number of gems at the start of the game.</p>
        <p>There are four crystals below. By clicking on a craystal you will add a specific amount of points to your total score.</p>
        <p>You win the game by matching your total score to random number, you lose the game if your total score goes above the random number.</p>
        <p>The value of each crystal is hidden from you until you click on it.</p>
        <p>Each time when the game starts, the game will change the values of each crystal.</p>
    </div>

<!--Gem indicators-->

<div class="wnl">
    <p id="goal">Goal: </p>
</div>

<!--Player gem count-->
    <div class="wnl">
        <p id="gemsCollected">Gems collected: </p> 
    </div>

<!--wins and loses-->
<div class="wnl">
    <p id="wins">Wins: </p>
    <p id="loses">Loses: </p>
</div>

<!--This is where the gems are-->
    <div id="images" class="gems">
        <img id="ruby" class="gem" src="assets/images/ruby.jpg">
        <img id="sapphire" class="gem" src="assets/images/sapphire.jpg">
        <img id="emerald" class="gem" src="assets/images/emerald.jpg">
        <img id="topaz" class="gem" src="assets/images/topaz.jpg">
    </div>

<script>

// defining varibles
    var wins = 0;
    var loses = 0;
    var goal = Math.floor(Math.random()*100);
    var gemsCollected = 0;
    var placeHolder = 0;
        
// Defining gems as varibles
    var ruby = Math.floor(Math.random()*5) +1;
    var sapphire = Math.floor(Math.random()*5) +1;
    var emerald = Math.floor(Math.random()*5) +1;
    var topaz = Math.floor(Math.random()*5) +1;

//make ruby image into a button
    $('#ruby').on('click', function() {
        gemsCollected = gemsCollected + ruby;
        $('#gemsCollected').html("Gems collected: " + gemsCollected);
        if (gemsCollected === goal) {
            win();
        }
        else if (gemsCollected > goal) {
            lose();
        }
    });

//make sapphire image into a button
    $('#sapphire').on('click', function() {
        gemsCollected = gemsCollected + sapphire;
        $('#gemsCollected').html("Gems collected: " + gemsCollected);
        if (gemsCollected === goal) {
            win();
        }
        else if (gemsCollected > goal) {
            lose();
        }
    });

//make emerald image into a button
    $('#emerald').on('click', function() {
        gemsCollected = gemsCollected + emerald;
        $('#gemsCollected').html("Gems collected: " + gemsCollected);
        if (gemsCollected === goal) {
            win();
        }
        else if (gemsCollected > goal) {
            lose();
        }
    });

//make topaz image into a button
    $('#topaz').on('click', function() {
        gemsCollected = gemsCollected + topaz;
        $('#gemsCollected').html("Gems collected: " + gemsCollected);
        if (gemsCollected === goal) {
            win();
        }
        else if (gemsCollected > goal) {
            lose();
        }
    });

// When the gems player collected matches the randomly generated gem count, the player wins the game
// If the total gem count excess the ramdon gem numbe, the player lose
// Upon winning or losing the game, a new game will start automatically

    function newGame() {
        goal = Math.floor(Math.random()*100);
        $("#goal").html("Goal: " + goal);
        ruby = Math.floor(Math.random()*5) +1;
        sapphire = Math.floor(Math.random()*5) +1;
        emerald = Math.floor(Math.random()*5) +1;
        topaz = Math.floor(Math.random()*5) +1;
        gemsCollected = 0;
    }

// call the function newGame
    newGame();


// the winning function
    function win() {
        alert("GGWP!");
        wins ++;
        $("#wins").html("Wins: " + wins);
        newGame();
    }
        
// the losing function
    function lose() {
        alert("Sorry, try again!");
        loses ++;
        $("#loses").html("Loses: " + loses);
        newGame();
    }

</script>
</body>
</html>